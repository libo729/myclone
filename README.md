# 600 模组旧硬件版本的软件介绍
## 2017-07-11 增加功能&修改Bug
1. EPC600协议Type，帧头（Header）| 距离（MSB）| 距离（LSB）| 信号强度(MSB) | 信号强度(LSB)	校验（CRC）
2. 测试最小距离串口显示20cm，测试最大距离串口显示1400cm
## 2017-07-20 增加功能
1. 软件复位指令:0xFF
2. 输出距离格式数据显示Hex和ASCII转换开关
3. 单次测量01显示距离和Amp数据，包括Hex和ASCII格式数据输出
4. 半自动连续测量，输出距离信息，包括Hex和ASCII格式数据输出
5. 全自动连续测量，输出距离信息和积分等级，包括Hex和ASCII格式数据输出
6. 增加软件版本号，第一个字节 发行版本号， 第二个字节测试版本号；
## 2017-07-24 增加功能
1. 串口波特率57600
2. 读取像素饱和值
3. 增加上位机的控制指令：Add uartcmd Ascii;
    * 单次测量:  [0x01]   -- S, single measurement;
	* 半自动测量[0x05]    == H, start half auto_measurement.
	* 全自动测量[0x50]    == A, start all auto_measurement.
	* 停止自动测量[0x06]  == T, stop all auto_measurement.
	* 打开ASCII显示[0x70] == F, open display distance Ascill information,mode1,mode2, mode3;
	* 关闭ASCII显示[0x80] == G, close display distance Ascill information,mode1,mode2, mode3;
	* 打开Debug模式       == C, open display distance Ascill information.
	* 关闭Debug模式       == D, open display distance Ascill information.
## 2017-07-27 修改功能
1. 命令0x70改成Hex输出显示，0x71改成ASCII输出显示；
2. 命令0x80增加读取SN序列号,0x81增加写入序列号；（例如：MV170727）表示显示MV，年17，月07，日27
## 2017-08-01 修改功能
1. 读取饱和像素和有效像素，进行逻辑判断；
2. Debug模式下串口输出信息如下，各个信息以逗号隔开。
    >0x50模式下输出内容如下
    * 产品ID-距离输出值-原始距离输出值-像素有效值-AMP信号值-芯片温度值-环境光值-积分时间
    * MVR1EA 0~1400     0~1500        65        0~1000    0~1400     0~1000  0~0xa
## 2017-08-14 修改功能
1. 增加读写模块串号指令，默认模块串号“MV17072900”；
    * ----------标识----------年月日-----------串号------------
    *           MV            170729            00
    >例如，今天日期2017-08-14，设置模块串号：0x81 0x30 0x38 0x31 0x34 0x30 0x31返回081401;读取模块串号：80返回MV17081401
2. 增加开机读取温度标定值TempratureOffset;
## 2017-09-04 修改功能
1. 串口指令FF复位模组，波特率调整到默认值115200，模式05和模式50默认积分时间调整到0x05，
上电后模块关闭自动测量;软件版本是011；
## 2017-09-11 修改功能
1. 修改模块序列号存取存在bug;
2. 修改校准数据的存取，包括线性Temprature, Linear,  Ambient Light1,  Ambient Light2;
校准参数的修改请参照epc601_corr.h各个宏的定义；
## 2017-10-13
1. 修改测量量程30~1400cm
2. 增加50测量输出错误信息， 71模式下显示-1， 0c模式下显示AMP和Int；
## 2017-10-23
1. 增加准确测量功能0x08;
2. 修改50测量输出错误信息， 71模式下串口不输出；
3. 最小距离<=30,输出30；>=1400,输出1400；
## 2018-06-19
1. 增加反射率Reflect参数， 确保黑色物体反射差的情况下的计算方式;
## 2018-10-09 软件版本升级到V2.04
1. 增加硬件版本信息并保存到E2ROM， 通过指令0x08获取当前硬件版本;
2. 增加校准算法控制
    * 0xc0----------关闭温度、环境光、线性校准计算;
    * 0xc1----------打开温度校准计算;
    * 0xc2----------打开温度和环境光校准计算;
    * 0xc3----------打开温度、环境光、线性校准计算;
3. 修改模组线性归一计算的返回值【即OFFSET】
## 2019-02-21 软件版本: 1.2.M | 硬件版本: 1.3.A
### 一、补偿:
    >C0:屏蔽所有补偿算法;
    >C1:打开温度补偿;
    >C2:打开环境光补偿;
    >C4:打开线性补偿;
    >默认C7打开所有补偿; ---Bit2线性----Bit1环境光----Bit0温度------
1. 温度补偿，配合上位机生成对应的方程式， (上位机会自动发送)需要发命令C0屏蔽所有补偿公式；温度补偿成功后自动写入环境光公式;
2. 线性标定，配合上位机生成对应的公式，   (上位机会自动发送)需要发命令C3打开温度及环境光公式；
### 二、模组输出：
    >0C输出数据格式如下：
    >0、LOG信息
    >1、原始值;
    >2、补偿后的值;
    >3、AMP信号值;
    >4、温度值;
    >5、曝光等级;
### 三、增加命令
1. 设置量程、设置模组标定温度;
## 2019-03-29 软件版本1.5.M
1. 修改模组的校准方式为DRNU
## 2019-04-01
### 软件版本1.6.M
1. 修改短距离输出30cm
### 软件版本1.7.M
1. 增加短距离线性方程, 范围[30~100]
2. 固件文件分支
    >激光版本， mstm8_m1-20190506-V1.73-Laser.s19;
    >LED版本,   mstm8_m1-20190506-V1.73-Led.s19;
### 软件版本1.7.m--->此版本是在1.8.M的基础上修改的, 硬件版本1.2.X 
1. 屏蔽管脚PD4的的功能, 控制激光管的开关
2. 控制LED指示灯开光;
3. 修改DRNU在Flash中的存放地址0x9f50;



